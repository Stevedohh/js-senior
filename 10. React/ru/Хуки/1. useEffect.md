
`useEffect` – это хук *React*, который позволяет реализовать методы жизненного цикла компонентов, такие как `componentDidMount`, `componentDidUpdate` и `componentWillUnmount`.

> Кроме того, он позволяет выполнять побочные эффекты в компонентах, такие как выборка данных, непосредственное обновление DOM и таймеров.

**Аргументы useEffect:**
- [callback] - функция вызываемая после рендера компонента.
- массив зависимостей - должен включать все значения, на которые опирается callback

> Если мы хотим вызвать функцию обратного вызова при монтировании компонента, мы можем передать пустой массив зависимостей.

> Если мы не передаем deps, функция обратного вызова будет вызываться при каждом повторном рендеринге.

> Возвращаемое значение функции настройки должно быть функцией очистки, которая вызывается при размонтировании компонента.

---

React вызывает ваши функции настройки и очистки всякий раз, когда это необходимо, что может происходить несколько раз:

1. Ваш код установки запускается, когда ваш компонент добавляется на страницу *(монтируется)*.
2. После каждого повторного рендеринга вашего компонента, в котором изменились зависимости :
	- Во-первых, ваш код очистки работает со старыми реквизитами и состоянием.
	- Затем код установки запускается с новыми реквизитами и состоянием.
3. Код очистки запускается в последний раз после удаления компонента со страницы *(размонтирования)*.



---
#### Методы жизненного цикла компонента
---
*Mount of component* - когда нам нужно подписаться на какое-то событие. Или сделайте запрос на сервер.
```js
useEffect(() => {  
    console.log("Mount")  
}, [])
```

*Unmount of component* - когда нам нужно отписаться от некоторых событий.
```js
useEffect(() => {  
    return () => {  
        console.log("Unmount")  
    }
}, [])
```

*Update* - при изменении `count` будет вызываться функция обратного вызова.
```js
useEffect(() => {  
    console.log(count, "Update")  
}, [count])
```